import{Q,a as O,b as X,c as q,d as Y,e as j,f as K,G as Z,F as _,D as h,g as ee,P as te}from"./FunctionSelector-NVf7vB4Q.js";import{_ as F,G as le,A as ne,P as oe,h as se,u as ae,b as ie,c as re,U as c,d as L,t as T,D as ue,e as J,H as be}from"./_plugin-vue_export-helper-C5ytuzZU.js";import{N as B,D as v,H as l,K as o,O as $,a as N,r as g,C as P,E as x,J as A,P as ce,R as fe,I as de,S as ve,M as ke,T as me,U as pe,q as ye,w as ge,V as Re}from"./index-j8fIIbyg.js";import"./pinia-CC0e2Yte.js";const Ce={__name:"ButtonGroupPro",emits:["click"],setup(k,{emit:p}){const r=p,t=u=>{r("click",{label:u})};return(u,e)=>(v(),B($,null,[l(o,{onClick:e[0]||(e[0]=n=>t("Horn")),ref:"buttonHornRef",round:"",flat:"",color:"black",class:"fixed-button-Horn button-Horn",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}},null,512),l(o,{onClick:e[1]||(e[1]=n=>t("L1")),round:"",flat:"",color:"black",label:"L1",class:"fixed-button button-L1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[2]||(e[2]=n=>t("L2")),round:"",flat:"",color:"black",label:"L2",class:"fixed-button button-L2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[3]||(e[3]=n=>t("L3")),round:"",flat:"",color:"black",label:"L3",class:"fixed-button button-L3",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[4]||(e[4]=n=>t("L4")),round:"",flat:"",color:"black",label:"L4",class:"fixed-button button-L4",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[5]||(e[5]=n=>t("R1")),round:"",flat:"",color:"black",label:"R1",class:"fixed-button button-R1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[6]||(e[6]=n=>t("R2")),round:"",flat:"",color:"black",label:"R2",class:"fixed-button button-R2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[7]||(e[7]=n=>t("R3")),round:"",flat:"",color:"black",label:"R3",class:"fixed-button button-R3",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[8]||(e[8]=n=>t("R4")),round:"",flat:"",color:"black",label:"R4",class:"fixed-button button-R4",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[9]||(e[9]=n=>t("LS1")),round:"",flat:"",color:"black",label:"LS1",class:"fixed-button-up-shifter button-LS1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[10]||(e[10]=n=>t("LS2")),round:"",flat:"",color:"black",label:"LS2",class:"fixed-button-down-shifter button-LS2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[11]||(e[11]=n=>t("RS1")),round:"",flat:"",color:"black",label:"RS1",class:"fixed-button-up-shifter button-RS1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[12]||(e[12]=n=>t("RS2")),round:"",flat:"",color:"black",label:"RS2",class:"fixed-button-down-shifter button-RS2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[13]||(e[13]=n=>t("LJoystick_UP")),round:"",flat:"",color:"black",label:"LJ",class:"fixed-button button-LJ",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[14]||(e[14]=n=>t("RJoystick_UP")),round:"",flat:"",color:"black",label:"RJ",class:"fixed-button button-RJ",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}})],64))}},Se=F(Ce,[["__scopeId","data-v-0f341b58"]]),Le={__name:"ButtonGroupAir",emits:["click"],setup(k,{emit:p}){const r=p,t=u=>{r("click",{label:u})};return(u,e)=>(v(),B($,null,[l(o,{onClick:e[0]||(e[0]=n=>t("Horn")),ref:"buttonHornRef",round:"",flat:"",color:"black",class:"fixed-button-Horn button-Horn",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}},null,512),l(o,{onClick:e[1]||(e[1]=n=>t("L1")),round:"",flat:"",color:"black",label:"L1",class:"fixed-button button-L1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[2]||(e[2]=n=>t("L2")),round:"",flat:"",color:"black",label:"L2",class:"fixed-button button-L2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[3]||(e[3]=n=>t("L3")),round:"",flat:"",color:"black",label:"L3",class:"fixed-button button-L3",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[4]||(e[4]=n=>t("L4")),round:"",flat:"",color:"black",label:"L4",class:"fixed-button button-L4",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[5]||(e[5]=n=>t("R1")),round:"",flat:"",color:"black",label:"R1",class:"fixed-button button-R1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[6]||(e[6]=n=>t("R2")),round:"",flat:"",color:"black",label:"R2",class:"fixed-button button-R2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[7]||(e[7]=n=>t("R3")),round:"",flat:"",color:"black",label:"R3",class:"fixed-button button-R3",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[8]||(e[8]=n=>t("R4")),round:"",flat:"",color:"black",label:"R4",class:"fixed-button button-R4",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[9]||(e[9]=n=>t("LS1")),round:"",flat:"",color:"black",label:"LS1",class:"fixed-button-up-shifter button-LS1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[10]||(e[10]=n=>t("LS2")),round:"",flat:"",color:"black",label:"LS2",class:"fixed-button-down-shifter button-LS2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[11]||(e[11]=n=>t("RS1")),round:"",flat:"",color:"black",label:"RS1",class:"fixed-button-up-shifter button-RS1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[12]||(e[12]=n=>t("RS2")),round:"",flat:"",color:"black",label:"RS2",class:"fixed-button-down-shifter button-RS2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[13]||(e[13]=n=>t("LJoystick_UP")),round:"",flat:"",color:"black",label:"LJ",class:"fixed-button button-LJ",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[14]||(e[14]=n=>t("RJoystick_UP")),round:"",flat:"",color:"black",label:"RJ",class:"fixed-button button-RJ",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}})],64))}},xe=F(Le,[["__scopeId","data-v-b216e1a1"]]),Be={__name:"ButtonGroupGT",emits:["click"],setup(k,{emit:p}){const r=p,t=u=>{r("click",{label:u})};return(u,e)=>(v(),B($,null,[l(o,{onClick:e[0]||(e[0]=n=>t("L1")),round:"",flat:"",color:"black",label:"L1",class:"fixed-button button-L1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[1]||(e[1]=n=>t("L2")),round:"",flat:"",color:"black",label:"L2",class:"fixed-button button-L2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[2]||(e[2]=n=>t("L3")),round:"",flat:"",color:"black",label:"L3",class:"fixed-button button-L3",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[3]||(e[3]=n=>t("L4")),round:"",flat:"",color:"black",label:"L4",class:"fixed-button button-L4",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[4]||(e[4]=n=>t("L5")),round:"",flat:"",color:"black",label:"L5",class:"fixed-button button-L5",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[5]||(e[5]=n=>t("L6")),round:"",flat:"",color:"black",label:"L6",class:"fixed-button button-L6",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[6]||(e[6]=n=>t("R1")),round:"",flat:"",color:"black",label:"R1",class:"fixed-button button-R1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[7]||(e[7]=n=>t("R2")),round:"",flat:"",color:"black",label:"R2",class:"fixed-button button-R2",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[8]||(e[8]=n=>t("R3")),round:"",flat:"",color:"black",label:"R3",class:"fixed-button button-R3",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[9]||(e[9]=n=>t("R4")),round:"",flat:"",color:"black",label:"R4",class:"fixed-button button-R4",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[10]||(e[10]=n=>t("R5")),round:"",flat:"",color:"black",label:"R5",class:"fixed-button button-R5",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[11]||(e[11]=n=>t("R6")),round:"",flat:"",color:"black",label:"R6",class:"fixed-button button-R6",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[12]||(e[12]=n=>t("LS1")),round:"",flat:"",color:"black",label:"LS1",class:"fixed-button-shifter button-LS1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[13]||(e[13]=n=>t("LS_CW")),round:"",flat:"",color:"black",label:"LS_CW",class:"fixed-button-shifter-encoder button-LS-CW",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[14]||(e[14]=n=>t("RS1")),round:"",flat:"",color:"black",label:"RS1",class:"fixed-button-shifter button-RS1",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[15]||(e[15]=n=>t("RS_CW")),round:"",flat:"",color:"black",label:"RS_CW",class:"fixed-button-shifter-encoder button-RS-CW",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[16]||(e[16]=n=>t("LJoystick_UP")),round:"",flat:"",color:"black",label:"LJ",class:"fixed-button button-LJ",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}),l(o,{onClick:e[17]||(e[17]=n=>t("RJoystick_UP")),round:"",flat:"",color:"black",label:"RJ",class:"fixed-button button-RJ",style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}})],64))}},$e=F(Be,[["__scopeId","data-v-25deb33b"]]),De={__name:"ButtonSelector",props:{modelValue:{type:Boolean,default:!1},type:{type:String,default:"PRO",validator:k=>["PRO","AIR","GT"].includes(k)}},emits:["update:modelValue","select"],setup(k,{emit:p}){const r=k,t=p,u=b=>{t("select",{button:b})},e={PRO:oe,AIR:ne,GT:le},n=N(()=>{const b=e[r.type];return Object.entries(b).map(([i,d])=>({separator:d.separator||!1,label:i,value:d.value,hasFunction:d.hasFunction||!1,hasColor:d.hasColor||!1}))}),S=g([]),m=g(0),U={PRO:Se,AIR:xe,GT:$e},I=N(()=>U[r.type]),R=(b,i)=>{m.value=i,u(b)},y=b=>{const i=n.value.findIndex(d=>d.label===b.label);i!==-1?(t("update:modelValue",!0),m.value=i,se(S,i),u(n.value[i])):console.log("Button not found:",b)};return(b,i)=>(v(),B($,null,[l(j,{"model-value":k.modelValue,"onUpdate:modelValue":i[1]||(i[1]=d=>b.$emit("update:modelValue",d)),side:"left","show-if-above":"",elevated:"",overlay:!0,width:200},{default:x(()=>[l(Q,{class:"fit"},{default:x(()=>[i[2]||(i[2]=A("div",{class:"q-pa-sm text-h5"},"BUTTONS",-1)),l(O,{size:"2px"}),l(X,null,{default:x(()=>[(v(!0),B($,null,ce(n.value,(d,z)=>(v(),B($,{key:d.label},[d.separator?(v(),P(O,{key:"sep"+d.label})):fe("",!0),de((v(),P(q,{ref_for:!0,ref_key:"buttonsListItemRefs",ref:S,onClick:E=>R(d,z),clickable:"",active:m.value===z,"active-class":"bg-black text-white"},{default:x(()=>[l(Y,{class:"text-subtitle1 text-grey"},{default:x(()=>[ve(ke(d.label),1)]),_:2},1024)]),_:2},1032,["onClick","active"])),[[me]])],64))),128))]),_:1})]),_:1}),l(o,{class:"fixed",style:{top:"8px",right:"10px"},flat:"",dense:"",round:"",transparent:"",icon:"close",onClick:i[0]||(i[0]=d=>b.$emit("update:modelValue",!1))})]),_:1},8,["model-value"]),(v(),P(pe(I.value),{key:k.type,onClick:y}))],64))}},ze="/MadTrace_ConfigWebTool/assets/wheel_1.5_pro-DEkF1Zek.svg",we="/MadTrace_ConfigWebTool/assets/wheel_1.5_air-B-5HN8cn.svg",Te="/MadTrace_ConfigWebTool/assets/wheel_1.5_gt-BhntoBml.svg",Pe={class:"button-group-container"},Fe={__name:"WheelPage",setup(k){const r=ae().manager,t=ie(),u=re(),e=g("PRO"),n=g(h),S=g(ue),m=g(ee);ye(()=>{R.value=!1,ge(()=>t.isAvailable,s=>{if(s===!0){const a=J(be,t.modelByte);a?e.value=a.label:console.error("hubModel not found");const f=J(te,t.profileByte);f?m.value=f:console.error("profile not found")}else R.value=!1})});const U={PRO:ze,AIR:we,GT:Te},I=N(()=>U[e.value]),R=g(!1),y=g(!1);let b=new Uint8Array(0);const i=s=>{const a=s instanceof Uint8Array?s:new Uint8Array(s),f=new Uint8Array(b.length+a.length);f.set(b,0),f.set(a,b.length),b=f},d=s=>{S.value=s.button,y.value=!0},z=s=>{R.value=s,s||(y.value=!1)},E=async(s,a)=>{r.off("receive",i),b=new Uint8Array(0),r.on("receive",i);let f=null,D=null;const C=S.value.value,H=m.value.value,W=s.func?s.func.value:null;if(D=c.CONFIG_BYTE.BUTTON,f=c.generateSetButtonFrame(C,H,W,s.color),f===null)return;r.sendRawData(f),await L(50);let V=null,G=null;if(({cmd:G,data:V}=c.verify(b))===null){u.notify({type:"negative",message:"response data invalidated"}),a({result:!1}),r.off("receive",i);return}if(G===c.CMD_BYTE.SET_CONFIG){let w=null;if((w=T(V))===null){u.notify({type:"negative",message:"response data invalidated"}),a({result:!1}),r.off("receive",i);return}if((w=T(w[0].value))===null){u.notify({type:"negative",message:"response data invalidated"}),a({result:!1}),r.off("receive",i);return}w[0].type==D?(u.notify({message:"Config saved",timeout:1e3}),a({result:!0})):(u.notify({type:"negative",message:"response data invalidated"}),a({result:!1}))}else u.notify({type:"negative",message:"response data invalidated"});r.off("receive",i)},M=async s=>{r.off("receive",i),b=new Uint8Array(0),r.on("receive",i);let a=null;if(s.setting==="carVendor"){n.value=s.carVendor,r.off("receive",i);return}else if(s.setting==="profile")y.value=!1,m.value=s.profile,a=c.generateSetProfileFrame(m.value.value);else if(s.setting==="buttonDayBrightness")a=c.generateEnableDayBrightnessFrame(1),r.sendRawData(a),await L(5),a=c.generateSetButtonDayBrightnessFrame(s.brightness);else if(s.setting==="buttonNightBrightness")a=c.generateEnableNightBrightnessFrame(1),r.sendRawData(a),await L(5),a=c.generateSetButtonNightBrightnessFrame(s.brightness);else if(s.setting==="rpmDayBrightness")a=c.generateEnableDayBrightnessFrame(1),r.sendRawData(a),await L(5),a=c.generateSetRpmDayBrightnessFrame(s.brightness);else if(s.setting==="rpmNightBrightness")a=c.generateEnableNightBrightnessFrame(1),r.sendRawData(a),await L(5),a=c.generateSetRpmNightBrightnessFrame(s.brightness);else if(s.setting==="rpmPattern"){const C=s.rpmPattern.value;a=c.generateSetRpmPatternFrame(C)}else if(s.setting==="rpmStage1Color")a=c.generateSetRpmStage1ColorFrame(s.color);else if(s.setting==="rpmStage2Color")a=c.generateSetRpmStage2ColorFrame(s.color);else if(s.setting==="rpmStage3Color")a=c.generateSetRpmStage3ColorFrame(s.color);else if(s.setting==="rpmRedlineColor")a=c.generateSetRpmRedlineColorFrame(s.color);else throw new Error("Invalid setting");b=new Uint8Array(0),r.sendRawData(a),await L(50);let f=null,D=null;if(({cmd:D,data:f}=c.verify(b))===null){u.notify({type:"negative",message:"response data invalidated"}),r.off("receive",i);return}if(D===c.CMD_BYTE.SET_CONFIG){let C=null;if((C=T(f))===null){u.notify({type:"negative",message:"response data invalidated"}),r.off("receive",i);return}if((C=T(C[0].value))===null){u.notify({type:"negative",message:"response data invalidated"}),r.off("receive",i);return}u.notify({message:"Config saved",timeout:1e3})}else u.notify({type:"negative",message:"response data invalidated"});r.off("receive",i)};return(s,a)=>(v(),P(K,{class:"flex flex-center"},{default:x(()=>[A("div",{class:"button-group-background",style:Re({backgroundImage:`url(${I.value})`})},[A("div",Pe,[l(De,{modelValue:R.value,"onUpdate:modelValue":[a[0]||(a[0]=f=>R.value=f),z],type:e.value,onSelect:d},null,8,["modelValue","type"])])],4),l(Z,{onUpdate:M}),l(_,{modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=f=>y.value=f),carVendor:n.value,profile:m.value,button:S.value,onClose:a[2]||(a[2]=f=>y.value=!1),onSave:E},null,8,["modelValue","carVendor","profile","button"])]),_:1}))}},Ee=F(Fe,[["__scopeId","data-v-24eb0db9"]]);export{Ee as default};
